

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>merge &mdash; CycloneDX Editor Validator Tool 0.25.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/css/festo-web-essentials.css" />
      <link rel="stylesheet" type="text/css" href="https://www.festo.com/fonts/fonts.css" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=7ca58008"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="merge-vex" href="merge-vex.html" />
    <link rel="prev" title="list" href="list.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            CycloneDX Editor Validator Tool
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">CycloneDX Editor Validator Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../first_steps.html">First Steps</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Usage</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#create_parser-global-options">Global options</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#create_parser-commands">Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="amend.html">amend</a></li>
<li class="toctree-l2"><a class="reference internal" href="build-public.html">build-public</a></li>
<li class="toctree-l2"><a class="reference internal" href="init-sbom.html">init-sbom</a></li>
<li class="toctree-l2"><a class="reference internal" href="list.html">list</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">merge</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#create_parser-positional-arguments">Positional Arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create_parser-named-arguments">Named Arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#details">Details</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="merge-vex.html">merge-vex</a></li>
<li class="toctree-l2"><a class="reference internal" href="set.html">set</a></li>
<li class="toctree-l2"><a class="reference internal" href="validate.html">validate</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#exit-codes">Exit codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#output">Output</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../known_limitations.html">Known Limitations</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Further information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../maintainers.html">Maintainers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTING.html">Contributing</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CycloneDX Editor Validator Tool</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Usage</a></li>
      <li class="breadcrumb-item active">merge</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/usage/merge.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="merge">
<h1>merge<a class="headerlink" href="#merge" title="Link to this heading"></a></h1>
<p>Merges two or more CycloneDX input files into one. Inputs can either be specified directly as positional arguments on the command-line or using the <code class="docutils literal notranslate"><span class="pre">--from-folder</span></code> option. Files specified as arguments are merged in the order they are given, files in the folder are merged in alphabetical order (see note below).</p>
<p>If both positional arguments and the <code class="docutils literal notranslate"><span class="pre">--from-folder</span></code> option are used, then the position arguments are merged first, followed by the files in the folder. The command will not merge the same file twice, if it is specified on the command-line and also part of the folder.</p>
<p>When using the <code class="docutils literal notranslate"><span class="pre">--from-folder</span></code> option, the program looks for files matching either of the <a class="reference external" href="https://cyclonedx.org/specification/overview/#recognized-file-patterns">recommended CycloneDX naming schemes</a>: <code class="docutils literal notranslate"><span class="pre">bom.json</span></code> or <code class="docutils literal notranslate"><span class="pre">*.cdx.json</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">cdx</span><span class="o">-</span><span class="n">ev</span> <span class="n">merge</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">from</span><span class="o">-</span><span class="n">folder</span> <span class="o">&lt;</span><span class="n">from</span><span class="o">-</span><span class="n">folder</span><span class="o">&gt;</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">hierarchical</span><span class="p">]</span>
                    <span class="p">[</span><span class="o">--</span><span class="n">output</span> <span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;</span><span class="p">]</span>
                    <span class="p">[</span><span class="o">&lt;</span><span class="nb">input</span><span class="o">&gt;</span> <span class="o">...</span><span class="p">]</span>
</pre></div>
</div>
<section id="create_parser-positional-arguments">
<h2>Positional Arguments<a class="headerlink" href="#create_parser-positional-arguments" title="Link to this heading"></a></h2>
<dl class="option-list">
<dt><kbd>&lt;input&gt;</kbd></dt>
<dd><p>Paths to SBOM files to merge. You must specify at least two paths.</p>
</dd>
</dl>
</section>
<section id="create_parser-named-arguments">
<h2>Named Arguments<a class="headerlink" href="#create_parser-named-arguments" title="Link to this heading"></a></h2>
<dl class="option-list">
<dt><kbd>--from-folder</kbd></dt>
<dd><p>Path to a folder with SBOMs to be merged.</p>
</dd>
<dt><kbd>--hierarchical</kbd></dt>
<dd><p>Flag to determine if the components should be merged hierarchical.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
<dt><kbd>--output, -o</kbd></dt>
<dd><p>The path to where the output should be written. If this is a file, output is written there. If it’s a directory, output is written to a file with an auto-generated name inside that directory. If it’s not specified, output is written to stdout.</p>
</dd>
</dl>
</section>
<section id="details">
<h2>Details<a class="headerlink" href="#details" title="Link to this heading"></a></h2>
<p>Input files in the folder provided to the <code class="docutils literal notranslate"><span class="pre">--from-folder</span></code> option are sorted by name in a platform-specific way. In other words, they are merged in the same order they appear in your operating system’s file browser (e.g., Windows Explorer) when sorted by name.</p>
<p>The process runs iteratively, merging two SBOMs in each iteration. In the first round, the second submitted SBOM is merged into the first. In the second round the third would be merged into the result of the first round and so on.</p>
<p>In mathematical terms: <span class="math notranslate nohighlight">\(output = (((input_1 * input_2) * input_3) * input_4 ...)\)</span></p>
<p>The merge is per default not hierarchical for the <code class="docutils literal notranslate"><span class="pre">components</span></code> field of a <code class="docutils literal notranslate"><span class="pre">component</span></code> (<a class="reference external" href="https://cyclonedx.org/docs/1.6/json/#components_items_components">CycloneDX documentation</a>). This means that components that were contained in the <code class="docutils literal notranslate"><span class="pre">components</span></code> of an already present component will just be added as new components under the SBOMs’ <code class="docutils literal notranslate"><span class="pre">components</span></code> sections.
The <code class="docutils literal notranslate"><span class="pre">--hierarchical</span></code> flag allows for hierarchical merges. This affects only the top level components of the merged SBOM. The structured of nested components is preserved in both cases (except the removal of already present components), as shown for “component 4” in the image below.</p>
<img alt="Merge components structure default and hierarchical." src="../_images/merge_hierarchical_structure.svg" />
<p>A few notes on the merge algorithm:</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">metadata</span></code> field is always retained from the first input and never changed through a merge with the exception of the <code class="docutils literal notranslate"><span class="pre">timestamp</span></code>.</p></li>
<li><p>Components are merged into the result in the order they <strong>first</strong> appear in the inputs. If any subsequent input specifies the same component (sameness in this case being defined as having identical identifying attributes such as <code class="docutils literal notranslate"><span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">version</span></code>, <code class="docutils literal notranslate"><span class="pre">purl</span></code>, etc.), the later instance of the component will be dropped with a warning. <strong>This command cannot be used to merge information inside components.</strong></p></li>
<li><p>The resulting dependency graph will reflect all dependencies from all inputs. Dependencies from later inputs are always added to the result, even if the component is dropped as a duplicate as described above.</p></li>
<li><p>Uniqueness of <em>bom-refs</em> will be ensured.</p></li>
<li><p>If the inputs contain VEX information in the form of a <code class="docutils literal notranslate"><span class="pre">vulnerabilities</span></code> field, this will be merged as well. For details see section on the <code class="docutils literal notranslate"><span class="pre">merge-vex</span></code> command.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="list.html" class="btn btn-neutral float-left" title="list" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="merge-vex.html" class="btn btn-neutral float-right" title="merge-vex" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Festo SE &amp; Co. KG.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>